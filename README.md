python实现的SeamCarving算法，实现缩小图片时丢失尽量少的信息



## Usage

```powershell
python main.py -im <IM_PATH> -out <OUTPUT_IM_PATH> -nx <NX> -ny <NY>
例：python main.py -im in.jpg -out out.jpg -nx 512 -ny 256
```

参数说明：
	IM_PATH：输入文件的地址

​	OUTPUT_IM_PATH：输出文件的地址

​	NX：缩放后的图片宽度（像素数）

​	NY：缩放后的图片高度（像素数）



## 算法简介

参考论文：https://dl.acm.org/doi/10.1145/1276377.1276390

**寻找能量最小路径算法:**

计算能量最小值使用动态规划算法

定义dp\[i][j]为以第i行第j列的像素为路径终点时最小的总能量值。

考虑从上向下寻找路径，每个像素点可由三个位置的像素点到达，分别是左上方，正上方和右上方，最短的路径就是这三个位置中的最小值加上这个像素点本身的值。

因此可得状态转移方程

```dp[i][j] = min(dp[i-1][j-1],dp[i-1][j],dp[i-1][j+1]) + energy[i][j]```

**初始条件**

dp数组第一行等于能量图第一行

```dp[0][i] = energy[0][i]```

**寻找能量最小路径使用贪心算法**

从最后一行的最小值出发

每一行的最小值肯定由上一行的左上方，正上方或右上方三个点中的最小值转移而来，因此找到这三个点中的最小值记录在路径中，循环直到找到完整路径



## 复杂度

输入规模：图片宽度n，图片高度m

基本操作：

计算能量最小值：计算dp数组

寻找能量最小路径：找每行路径上最小值

##### 时间复杂度：

计算能量最小值需要遍历每一个点，时间复杂度O(5*n*m)

寻找能量最小路径需要竖向遍历一遍，时间复杂度O(2*(m - 1))

总时间复杂度O(n * m)

 

##### 空间复杂度：

计算能量最小值需要使用二维数组dp存储，空间复杂度O(n*m)

寻找能量最小路径需要使用一维数组output存储路径，空间复杂度O(m)

总空间复杂度O(n * m)



## 效果

缩放前：



缩放后：

